"use strict";window.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("nav__link-burger"),t=document.querySelector(".mobile-nav");e.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("mobile-nav_show")}),t.addEventListener("click",function(){t.classList.toggle("mobile-nav_show")});var n=document.querySelector(".nav__login-button"),c=document.querySelector(".popup-login"),o=document.querySelector(".popup-login__close"),e=document.querySelector("#popup-login__submit");n.addEventListener("click",function(){c.classList.add("popup-login_show")}),o.addEventListener("click",function(e){e.preventDefault(),c.classList.remove("popup-login_show")}),e.addEventListener("click",function(e){e.preventDefault();var t=document.forms["login-form"].email,n=document.forms["login-form"].password,o=document.querySelector("#labelEmail"),r=document.querySelector("#labelParol"),e=!0;e=g(t.value)?(o.innerText="Ваш email:",t.classList.remove("warning-input"),o.classList.remove("warning-label"),!0):(o.innerText="Ваш email: неверный формат email",t.classList.add("warning-input"),o.classList.add("warning-label"),!1);e=n.value.length<4?(r.innerText="Пароль: не меньше 4 символов",n.classList.add("warning-input"),r.classList.add("warning-label"),!1):(r.innerText="Пароль:",n.classList.remove("warning-input"),r.classList.remove("warning-label"),!0);e&&c.classList.remove("popup-login_show")});var r=document.querySelector("#telnumber"),n=document.querySelector("#popup-callme__submit"),o=document.querySelector(".header__callme-button"),s=document.querySelector(".popup-callme"),e=document.querySelector(".popup-callme__close");o.addEventListener("click",function(e){e.preventDefault(),s.classList.add("popup-callme_show")}),e.addEventListener("click",function(e){e.preventDefault(),s.classList.remove("popup-callme_show")}),n.addEventListener("click",function(e){e.preventDefault(),s.classList.remove("popup-callme_show"),setTimeout(function(){alert("Мы Вам перезвоним по данному номеру: "+r.value)},0)});var e=document.querySelector(".top__burger-icon"),a=document.querySelector(".top__menu-items");e.addEventListener("click",function(e){a.classList.toggle("top__menu-items_show")});var n=document.querySelector(".top__forms-search-button"),i=document.querySelector(".popup-searchwarning"),e=document.querySelector(".popup-searchwarning__close");n.addEventListener("click",function(e){var t=document.forms["top__forms-search"].search.value;e.preventDefault(),t.length<2&&i.classList.add("popup-searchwarning_show")}),e.addEventListener("click",function(e){e.preventDefault(),i.classList.remove("popup-searchwarning_show")});var n=document.querySelector("#top__forms-submit-button"),u=document.forms.topforms.minprice,l=document.forms.topforms.maxprice,p=document.querySelector(".popup-topform-warning"),e=document.querySelector(".popup-topform-warning__close");n.addEventListener("click",function(e){e.preventDefault(),(+u.value<0||+l.value<0||+u.value>+l.value)&&p.classList.add("popup-topform-warning_show")}),e.addEventListener("click",function(e){e.preventDefault(),p.classList.remove("popup-topform-warning_show")}),r.addEventListener("input",function(e){var t=this.defaultValue,n=0,o=t.replace(/\D/g,""),r=this.value.replace(/\D/g,"");o.length>=r.length&&(r=o),t=t.replace(/[_\d]/g,function(e){return r.charAt(n++)||"_"}),this.value=t,(n=t.lastIndexOf(r.substr(-1)))<t.length&&t!=this.defaultValue?n++:n=t.indexOf("_"),function(e,t){t.focus(),t.setSelectionRange?t.setSelectionRange(e,e):t.createTextRange&&((t=t.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())}(n,this)},!1);var n=document.querySelectorAll(".main__productcard"),d=document.querySelector(".header__compare-counter span"),m=document.querySelector(".header__favorites-counter span");function v(e){e.target.classList.contains("main__add-to-compare")&&(e.preventDefault(),"В сравнении"!=e.target.innerText&&(e.target.innerText="В сравнении",d.innerText=+(+d.innerText+1)))}function _(e){e.target.classList.contains("main__add-to-favorite")&&(e.preventDefault(),"В избранном"!=e.target.innerText&&(e.target.innerText="В избранном",m.innerText=+(+m.innerText+1)))}n.forEach(function(e){e.addEventListener("click",v),e.addEventListener("click",_)});var e=document.querySelector("#footer__subscribe-submitbutton"),f=document.querySelector(".popup-successsubscript"),n=document.querySelector(".successsubscript__close");function g(e){return 0!=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)}e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("#footer__subscribe-input"),n=g(document.forms["footer__subscribe-form"]["footer__subscribe-input"].value),e=document.querySelector("#wrong-email-message");if(n)return t.classList.remove("footer__subscribe-input_error"),e.classList.remove("wrong-email-message-show"),void setTimeout(function(){f.classList.add("popup-successsubscript_show"),t.value=""},0);t.classList.add("footer__subscribe-input_error"),e.classList.add("wrong-email-message-show")}),n.addEventListener("click",function(e){e.preventDefault(),f.classList.remove("popup-successsubscript_show")})});